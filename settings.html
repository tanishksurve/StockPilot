<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>StockPilot • Settings</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <style>
    :root{
      --accent:#4534d9;
      --light-bg:#f8f9fa;
      --card-bg:#ffffff;
      --text:#1e1e1e;
      --muted:#666;
      --radius:12px;
      --border:#e7e9ee;
      --active-bg:#f5f5ff;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:'Segoe UI',system-ui,Roboto,Arial,sans-serif;
      background:var(--light-bg); color:var(--text); display:flex; min-height:100vh;
    }

    /* ===== Sidebar ===== */
    aside{
      width:220px; background:#fff; border-right:1px solid var(--border);
      position:fixed; inset:0 auto 0 0; z-index:1500; padding:20px 0;
      display:flex; flex-direction:column; justify-content:space-between;
      transition:width .3s ease; box-shadow:2px 0 10px rgba(0,0,0,.05);
    }
    .side-top{display:flex; flex-direction:column; gap:18px}
    .brand{
      display:flex; align-items:center; justify-content:center; gap:10px; padding:0 20px;
    }
    .brand img{width:60px; height:60px; border-radius:50%; object-fit:cover;padding:4px}
    .brand span{font-weight:700; color:var(--accent); font-size:20px}

    .navlink{
      display:flex; align-items:center; gap:12px; padding:12px 24px;
      color:var(--text); text-decoration:none; white-space:nowrap;
      transition:background .2s ease, color .2s ease;
    }
    .navlink i{min-width:20px; text-align:center; font-size:18px; color:#111}
    .navlink:hover{background:#f5f5f5}
    .navlink:hover i{color:var(--accent)}
    .navlink.active{background:var(--active-bg)}
    .navlink.active i, .navlink.active span{color:var(--accent); font-weight:600}
    .divider{border-top:1px solid var(--border); margin:10px 20px}

    /* Collapse behavior on small screens */
    @media (max-width:992px){
      aside{width:60px; z-index:2000}
      .brand span, .navlink span{display:none}
      .navlink{justify-content:center; padding:14px}
      /* logo without border/padding on small screens */
      .brand img{border:none; padding:0}
      main{margin-left:60px}

      /* Expand on hover/focus to show labels + brand name */
      aside:hover, aside:focus-within{width:220px; box-shadow:2px 0 15px rgba(0,0,0,.12)}
      aside:hover .brand span, aside:hover .navlink span,
      aside:focus-within .brand span, aside:focus-within .navlink span{display:inline}
      aside:hover .navlink, aside:focus-within .navlink{justify-content:flex-start; padding:12px 24px}
    }

    /* ===== Main ===== */
    main{flex:1; margin-left:220px; padding:30px; transition:margin-left .3s ease}
    header{display:flex; align-items:center; justify-content:space-between; margin-bottom:22px; gap:16px}
    .title{font-size:24px; font-weight:800; margin:0}
    .topbar-right{display:flex; align-items:center; gap:12px}
    .avatar{width:40px; height:40px; border-radius:50%; background:var(--accent); color:#fff; display:flex; align-items:center; justify-content:center; font-weight:700}

    /* Notifications */
    .notify{position:relative}
    .notify .bell{font-size:20px; cursor:pointer}
    .badge{position:absolute; top:-6px; right:-6px; background:#f44336; color:#fff; width:18px; height:18px; border-radius:50%;
      display:flex; align-items:center; justify-content:center; font-size:10px}
    .panel{position:absolute; top:34px; right:0; width:320px; background:#fff; border-radius:12px; box-shadow:0 10px 24px rgba(0,0,0,.18); display:none; overflow:hidden; z-index:1600}
    .panel.show{display:block}
    .panel h4{margin:0; padding:12px 14px; border-bottom:1px solid var(--border)}
    .note{padding:12px 14px; border-bottom:1px solid var(--border)}
    .note .time{font-size:12px; color:var(--muted)}
    .panel a{display:block; text-align:center; padding:10px; color:var(--accent); text-decoration:none}

    /* ===== Settings content ===== */
    .grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:20px}
    .card{background:#fff; border-radius:16px; box-shadow:0 2px 10px rgba(0,0,0,.06); overflow:hidden}
    .card-head{display:flex; align-items:center; gap:10px; padding:14px 18px; background:#f3f2ff; border-bottom:1px solid var(--border)}
    .card-head i{color:var(--accent)}
    .card-head h3{margin:0; font-size:16px}
    .card-body{padding:18px}

    .form-group{margin-bottom:14px}
    .form-group label{display:block; margin-bottom:6px; font-size:14px}
    .control{width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:10px; background:#fff; font-size:14px}
    .control:focus{outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgba(69,52,217,.12)}

    .switch-row{display:flex; align-items:center; justify-content:space-between; margin-bottom:10px}
    .switch{position:relative; width:50px; height:24px}
    .switch input{opacity:0; width:0; height:0}
    .slider{position:absolute; inset:0; background:#ccc; border-radius:34px; transition:.3s}
    .slider:before{content:""; position:absolute; width:16px; height:16px; left:4px; top:4px; background:#fff; border-radius:50%; transition:.3s}
    .switch input:checked + .slider{background:var(--accent)}
    .switch input:checked + .slider:before{transform:translateX(26px)}

    .range{width:100%; appearance:none; height:6px; border-radius:3px; background:#ddd}
    .range::-webkit-slider-thumb{appearance:none; width:18px; height:18px; border-radius:50%; background:var(--accent); cursor:pointer}
    .range-val{font-size:12px; color:var(--muted); text-align:right}

    .btn{background:var(--accent); color:#fff; border:none; border-radius:10px; padding:10px 14px; cursor:pointer; font-weight:600; width:100%}
    .btn:hover{opacity:.95}

    footer{color:#777; text-align:center; margin-top:16px}

    @media (max-width:576px){
      main{padding:24px 16px}
    }
  </style>
</head>
<body>

  <!-- ===== Sidebar ===== -->
  <aside>
    <div class="side-top">
      <a class="brand"aria-label="StockPilot Home">
        <img src="Logo.jpeg" alt="StockPilot logo"><span>StockPilot</span>
      </a>

      <!-- Linked items; Settings has 'active' -->
      <a class="navlink" href="dashboard.html"><i class="fas fa-chart-line"></i><span>Dashboard</span></a>
      <a class="navlink" href="inventory.html"><i class="fas fa-boxes"></i><span>Inventory</span></a>
      <a class="navlink" href="suppliers.html"><i class="fas fa-truck-loading"></i><span>Suppliers</span></a>
      <a class="navlink" href="orders.html"><i class="fas fa-shopping-cart"></i><span>Orders</span></a>
      <a class="navlink" href="reports.html"><i class="fas fa-file-alt"></i><span>Reports</span></a>
      <a class="navlink active" href="settings.html"><i class="fas fa-cogs"></i><span>Settings</span></a>
    </div>
    <div>
      <div class="divider"></div>
      <a class="navlink" href="help.html"><i class="fas fa-question-circle"></i><span>Help & Docs</span></a>
    </div>
  </aside>

  <!-- ===== Main ===== -->
  <main>
    <!-- Topbar -->
    <header>
      <h1 class="title">Settings</h1>
      <div class="topbar-right">
        <div class="notify">
          <i class="fas fa-bell bell" id="bell"></i>
          <span class="badge" id="badge">2</span>
          <div class="panel" id="panel">
            <h4>Notifications</h4>
            <div class="note"><div>Password policy updated.</div><div class="time">Today</div></div>
            <div class="note"><div>New integration available.</div><div class="time">Yesterday</div></div>
            <a href="#">View All</a>
          </div>
        </div>
        <div class="avatar">TS</div>
      </div>
    </header>

    <!-- Settings Cards -->
    <section class="grid">
      <!-- Account -->
      <div class="card">
        <div class="card-head"><i class="fas fa-user-cog"></i><h3>Account Settings</h3></div>
        <div class="card-body">
          <div class="form-group">
            <label>Username</label>
            <input class="control" id="u_name" placeholder="Your name"/>
          </div>
          <div class="form-group">
            <label>Email</label>
            <input class="control" id="u_email" type="email" placeholder="you@example.com"/>
          </div>
          <div class="form-group">
            <label>Timezone</label>
            <select class="control" id="u_tz">
              <option value="" hidden>Select timezone</option>
              <option>UTC −12:00</option>
              <option>UTC +00:00</option>
              <option selected>UTC +05:30</option>
              <option>UTC +08:00</option>
            </select>
          </div>
          <button class="btn" id="saveAccount">Save Changes</button>
        </div>
      </div>

      <!-- Notifications -->
      <div class="card">
        <div class="card-head"><i class="fas fa-bell"></i><h3>Notification Preferences</h3></div>
        <div class="card-body">
          <div class="switch-row">
            <label>Email Notifications</label>
            <label class="switch"><input id="n_email" type="checkbox" checked><span class="slider"></span></label>
          </div>
          <div class="switch-row">
            <label>Push Notifications</label>
            <label class="switch"><input id="n_push" type="checkbox" checked><span class="slider"></span></label>
          </div>
          <div class="switch-row">
            <label>Low Stock Alerts</label>
            <label class="switch"><input id="n_low" type="checkbox" checked><span class="slider"></span></label>
          </div>
          <div class="form-group">
            <label>Alert Threshold</label>
            <input id="n_thresh" class="range" type="range" min="1" max="100" value="20">
            <div class="range-val" id="n_val">20%</div>
          </div>
        </div>
      </div>

      <!-- System -->
      <div class="card">
        <div class="card-head"><i class="fas fa-desktop"></i><h3>System Preferences</h3></div>
        <div class="card-body">
          <div class="form-group">
            <label>Dashboard Refresh Rate</label>
            <select class="control" id="s_refresh">
              <option>Every 5 minutes</option>
              <option selected>Every 15 minutes</option>
              <option>Every 30 minutes</option>
              <option>Manual Refresh</option>
            </select>
          </div>
          <div class="form-group">
            <label>Default Export Format</label>
            <select class="control" id="s_export">
              <option>PDF</option>
              <option selected>CSV</option>
              <option>Excel</option>
            </select>
          </div>
          <button class="btn" id="saveSystem">Save Preferences</button>
        </div>
      </div>

      <!-- Security -->
      <div class="card">
        <div class="card-head"><i class="fas fa-shield-alt"></i><h3>Security</h3></div>
        <div class="card-body">
          <div class="form-group">
            <label>Change Password</label>
            <input class="control" id="p_new" type="password" placeholder="New password"/>
          </div>
          <div class="form-group">
            <label>Confirm New Password</label>
            <input class="control" id="p_conf" type="password" placeholder="Confirm new password"/>
          </div>
          <button class="btn" id="saveSecurity">Update Security</button>
        </div>
      </div>
    </section>

    <footer>© 2025 StockPilot. All rights reserved.</footer>
  </main>

  <script>
    /* Notifications toggle */
    const bell=document.getElementById('bell'), panel=document.getElementById('panel');
    bell.addEventListener('click',(e)=>{e.stopPropagation(); panel.classList.toggle('show');});
    document.addEventListener('click',()=>panel.classList.remove('show'));
    panel.addEventListener('click',(e)=>e.stopPropagation());

    /* Range display */
    const range = document.getElementById('n_thresh');
    const rangeVal = document.getElementById('n_val');
    const updateRange = ()=> rangeVal.textContent = range.value + '%';
    range.addEventListener('input', updateRange); updateRange();

    /* Simple handlers */
    document.getElementById('saveAccount').addEventListener('click', ()=>{
      alert('Account settings saved.');
      console.log({
        name:document.getElementById('u_name').value,
        email:document.getElementById('u_email').value,
        tz:document.getElementById('u_tz').value
      });
    });
    document.getElementById('saveSystem').addEventListener('click', ()=>{
      alert('System preferences saved.');
    });
    document.getElementById('saveSecurity').addEventListener('click', ()=>{
      const p=document.getElementById('p_new').value, c=document.getElementById('p_conf').value;
      if(!p || p!==c){ alert('Passwords do not match.'); return; }
      alert('Password updated.');
    });

    /* Ensure Settings item stays active even on hover states */
    // (Nothing to do in JS — we rely on .navlink.active styles. Left here to show intent.)
  </script>
</body>
</html>
